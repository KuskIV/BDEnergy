\section{Introduction}

In recent years there has been rapid growth in Information and Communications Technology (ICT) which has led to an increase in energy consumption. Furthermore, it is expected that the rapid growth of ICT will continue in the future. \cite{jones2018stop,andrae2015global} As the use of ICT rises the demand for computational power rises as well, therefore energy efficiency has or perhaps should become more of a concern for companies and software developers alike.

In this paper, we investigate energy consumption of various benchmarks on Windows 11, comparing the efficiency and tradeoffs between sequential and parallel execution. Our experiments involve two Device Under Tests (DUTs): an Intel Coffee Lake CPU with a traditional P-core setup and an Intel Raptor Lake CPU with P- and E-cores. We analyze the impact of Asymmetric Multicore Processors (AMPs) on parallel execution compared to traditional Symmetric MultiCore Processors. We conduct three experiments, each building upon the previous one. The first experiment focuses on selecting the C++ compiler for the benchmarks in the second experiment. The second experiment aims to identify the best measuring instruments for our use case, using only C++ benchmarks to avoid noise from e.g. a garbage collector or just-in-time compilation. In the third experiment, we expand the scope beyond C++ benchmarks, as the preferred measuring instruments have been chosen, and focus on analyzing energy consumption behavior when utilizing different numbers of cores. The following research questions are formulated to assist with the process:

\begin{itemize}
    %\item How does the compiler, temperature and background process impact the energy consumption?
    %\item What is the best measuring instrument for Windows? %% omformuler, måske kritere for at vælge hvad der er bedst i de forskellige situationer. fx hw måling er gode men svære at sætte op, e3 kræver tingene køre i længere tid osv.
    \item RQ\refstepcounter{RQ}\theRQ: How does the C++ compiler used to compile the benchmarks impact the energy consumption?\label[RQ]{RQ:RQ1}
    \item RQ\refstepcounter{RQ}\theRQ: What are the advantages and drawbacks of the different types of measuring instruments in terms of accuracy, ease of use, and availability?\label[RQ]{RQ:RQ2}
    % \item \textit{How well does microbenchmarks represent a realistic usecase compared to macrobenchmarks?}
    \item RQ\refstepcounter{RQ}\theRQ: What effect does parallelism have on the energy consumption of the benchmarks?\label[RQ]{RQ:RQ3}
    \item RQ\refstepcounter{RQ}\theRQ: What effect do P- and E-cores have on the parallel execution of a process?\label[RQ]{RQ:RQ4}
    % \item \textit{How can measuring instruments be calibrated to better fit a ground truth}
\end{itemize}

To answer these research questions a command line framework is created to assist with running a series of different experiments.

\paragraph{}
In \cref{relatedWork} the related work which lay the foundation for our work is covered, including our previous work. This is followed by \cref{background} which includes the necessary background information about e.g. CPUs and schedulers. Thereafter in \cref{experimentalSetup} our experimental setup is presented. %Followed by this is the experiments in \cref{experiments} which will include a description of the different experiments and their setup. 
In \cref{results} the results are presented whereafter they are discussed in \cref{discussion} and finally a conclusion is made in \cref{conclusion}. 

% Hypothsis:

% \begin{itemize}
%     \item The expectation when using different compilers is that the energy consumption of the code will be similar, but with some deviations. Resulting from the individual compilers implementation.
%     \item The expectation for the temperature is that it in itself would not effect the performance unless the cpu starts to thermal throttle. Though the heat of the cpu is directly related to the electrical resistance meaning that it would be less efficient in terms of joule per computation.
%     \item We do not expect the background process to have a large impact on the energy consumption, this mostly because the non-essential background process are executed rarely and for very brief durations. We do expect that the results will become more consistent without 
%     \item We know that IPG and LHW are very similar and we expect Windows RAPL driver to be similar as well.
%     \item We expect that using parallelism there is not a correlation between execution time and energy consumption.
%     \item We expect if we can get the right thread to run on a E core that it could improve energy consumption slightly depending on the size of the benchmark. Where the larger the benchmark the bigger the improvement in energy consumption. % If we can control which core threads are executed on, then we expect that we can decrease enery consumption.
%     \item We expect the calibration to be very situation specific, where the calibration might improve the measurements in some cases, but not in others.
% \end{itemize}