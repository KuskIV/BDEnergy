\section{Conclusion}\label[section]{conclusion and Future Work}

This work set out to explore parallelism and the effects it has on energy consumption, where Windows is used as the primary OS with Linux as a reference point, and Cochrans formula to ensure confidence in the reported numbers. With Cochrans formula it, it is found that more measurements are required in order to gain confidence in measurements than found in existing work. When looking at the OSs, Linux is found the most convenient OS to setup and use, but Windows will still provide additional depth to an analysis, as similar observations in terms of what is more energy efficient is OS, hardware and compiler dependent. 

%% RQ1: c++ compler
Since RAPL is not available on Windows, alternatives are compared on C++ microbenhmarks, compiled on the most energy efficient compiler. The most energy efficent C++ compiler is found through the first experiment, where tests shows that there is a big difference in performance between compilers. The most energy efficient compiler is found be Intel's oneAPI, because of its use of parallelism and YMM registers, only found on Intel CPUs.

%% RQ2: measuring instruments
When comparing microbenhmarks compiled on oneAPI between different measuring instruments for Windows, a similar performance is found when comparing each measuring instruments correlation with a ground truth obtained by a current clamp. This is expected the be the cause of all measuring instruments utilizing the same registers when reporting the energy consumption, but is something to look into in a future work. In the end, Intel's Intel Power Gadget is chosen, because of its usability compared to other measuring instruments. In a future work it could be interesting to extend this analysis to include this like the overhead of the measuring instruments for Windows, to see how they compare to RAPL.


%% RQ3: the effect parallelism has on energy consumption
In the third experiment parallelism and its effect on energy consumption is explored on two macrobenchmarks, this being PC-Mark-10 and 3D-Mark, where one represents a realistic usecase of videochats and web browsing, while the other simulates a more demanding worktask. Both macrobenchmarks are run on an increasing number of cores, to find what performance benefit the additional cores bring. Both both macrobenchmarks a relationship is found between the DEC, duration and DEC per second, where as more cores are allocated, the duration and DEC decreases, while the DEC per second increases, with a diminishing return. The relationship is however non-linear, where the duration decreases by more than the DEC which illustrates a diminishing return. This diminishing return means that at a certain number of cores, additional cores will have no effect on the duration or the DEC, where this number of cores will be higher for a more demanding task.


%% RQ4: Effect of P- and E- cores
